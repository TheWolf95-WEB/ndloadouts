<!-- ‚öîÔ∏è –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω Battlefield -->
<div id="screen-battlefield-main" class="screen">
  <p class="subtext">
    –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∏—Ä Battlefield.<br><br>
    –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–π –æ—Ä—É–∂–∏–µ, –ø—Ä–æ—Ö–æ–¥–∏ –∏—Å–ø—ã—Ç–∞–Ω–∏—è –∏ —Å–ª–µ–¥–∏ –∑–∞ –Ω–æ–≤—ã–º–∏ –º–µ—Ç–∞-—Å–±–æ—Ä–∫–∞–º–∏.
  </p>

  <div id="bf-user-info" class="user-info-block"></div>
  <h1>Battlefield</h1>

  <div id="bf-role-buttons" class="form-section">
    <!-- üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å -->
    <div id="bf-user-buttons" class="button-grid three-column">
      <div class="card-btn is-visible" id="bf-show-builds-btn">
        <i class="fas fa-eye"></i>
        <span>–í—Å–µ —Å–±–æ—Ä–∫–∏</span>
      </div>
      <div class="card-btn is-visible" id="bf-challenges-btn">
        <i class="fas fa-flag"></i>
        <span>–ò—Å–ø—ã—Ç–∞–Ω–∏—è</span>
      </div>
      <div class="card-btn is-visible" id="bf-search-btn">
        <i class="fas fa-search"></i>
        <span>–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫</span>
      </div>
    </div>

    <!-- üõ° –ê–¥–º–∏–Ω -->
    <div id="bf-admin-buttons">
      <!-- –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ -->
      <div class="button-grid three-column">
        <div class="card-btn is-visible" id="bf-weapons-db-btn">
          <i class="fas fa-database"></i>
          <span>–ë–∞–∑–∞ –æ—Ä—É–∂–∏–π</span>
        </div>
        <div class="card-btn is-visible" id="bf-challenges-db-btn">
          <i class="fas fa-clipboard-list"></i>
          <span>–ë–∞–∑–∞ –∏—Å–ø—ã—Ç–∞–Ω–∏–π</span>
        </div>
        <div class="card-btn is-visible" id="bf-modules-dict-btn">
          <i class="fas fa-list"></i>
          <span>–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –º–æ–¥—É–ª–µ–π</span>
        </div>
      </div>

      <!-- –¢—Ä–µ—Ç—å—è —Å—Ç—Ä–æ–∫–∞ -->
      <div class="button-grid two-column">
        <div class="card-btn is-visible" id="bf-add-build-btn">
          <i class="fas fa-plus"></i>
          <span>–î–æ–±–∞–≤–∏—Ç—å —Å–±–æ—Ä–∫—É</span>
        </div>
        <div class="card-btn is-visible" id="bf-add-challenge-btn">
          <i class="fas fa-trophy"></i>
          <span>–î–æ–±–∞–≤–∏—Ç—å –∏—Å–ø—ã—Ç–∞–Ω–∏–µ</span>
        </div>
      </div>

      <!-- üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
      <div class="global-home-button" style="display:block;">
        <button class="btn" onclick="showScreen('screen-home')">üè† –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ</button>
      </div>
    </div>
  </div>
</div>



<!-- üì¶ –≠–∫—Ä–∞–Ω: –í–°–ï –°–ë–û–†–ö–ò (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å–ø–∏—Å–æ–∫) -->
<div id="screen-bf-builds" class="screen" style="display:none;">
  <div class="screen-header">
    <button class="btn btn-back" onclick="showScreen('screen-battlefield-main')">‚¨Ö –ù–∞–∑–∞–¥</button>
    <h2>üì¶ –í—Å–µ —Å–±–æ—Ä–∫–∏ Battlefield</h2>
  </div>

  <!-- –§–∏–ª—å—Ç—Ä—ã -->
  <div class="filters-row">
    <select id="bf-filter-type" class="form-input">
      <option value="">–í—Å–µ —Ç–∏–ø—ã</option>
    </select>
    <select id="bf-filter-category" class="form-input">
      <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
    </select>
  </div>

  <!-- –ü–æ–∏—Å–∫ –∏ —Å—á—ë—Ç—á–∏–∫ -->
  <div class="filters-row">
    <input id="bf-search-builds" class="form-input" placeholder="üîé –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –º–æ–¥—É–ª—è–º...">
  </div>
  <div class="meta-row">
    <span class="muted">–í—Å–µ–≥–æ: <b id="bf-total-builds">0</b> —Å–±–æ—Ä–æ–∫</span>
  </div>

  <!-- –°–ø–∏—Å–æ–∫ (–∫–∞—Ä—Ç–æ—á–∫–∏ –≤ 2 –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ) -->
  <div id="bf-builds-list" class="bf-cards-grid">
    <div class="loading-spinner">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
  </div>

  <div class="footer-actions">
    <button class="btn" onclick="showScreen('screen-battlefield-main')">‚¨Ö –ù–∞–∑–∞–¥</button>
  </div>
</div>


<!-- üõ† –î–æ–±–∞–≤–∏—Ç—å / –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ—Ä–∫—É -->
<div id="screen-bf-add-build" class="screen" style="display:none;">
  <div class="screen-header">
    <button class="btn btn-back" onclick="showScreen('screen-battlefield-main')">‚¨Ö –ù–∞–∑–∞–¥</button>
    <h2>üõ† –î–æ–±–∞–≤–∏—Ç—å / –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ—Ä–∫—É</h2>
  </div>

  <div class="form-section">
    <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–±–æ—Ä–∫–∏:</label>
    <input id="bf-title" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–±–æ—Ä–∫–∏">
  </div>

  <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
  <div class="form-section">
    <label class="form-label">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:</label>
    <div class="categories-grid">
      <label class="category-checkbox">
        <input type="checkbox" class="bf-cat" value="–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ">
        <span>–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ</span>
      </label>
      <label class="category-checkbox">
        <input type="checkbox" class="bf-cat" value="–ù–æ–≤–∏–Ω–∫–∏">
        <span>–ù–æ–≤–∏–Ω–∫–∏</span>
      </label>
      <label class="category-checkbox">
        <input type="checkbox" class="bf-cat" value="–¢–æ–ø –ú–µ—Ç–∞">
        <span>–¢–æ–ø –ú–µ—Ç–∞</span>
      </label>
      <label class="category-checkbox">
        <input type="checkbox" class="bf-cat" value="–ú–µ—Ç–∞">
        <span>–ú–µ—Ç–∞</span>
      </label>
    </div>
  </div>

  <!-- –¢–∏–ø –æ—Ä—É–∂–∏—è -->
  <div class="form-section">
    <label class="form-label">–¢–∏–ø –æ—Ä—É–∂–∏—è:</label>
    <select id="bf-weapon-type" class="form-input">
      <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –æ—Ä—É–∂–∏—è</option>
    </select>
  </div>

  <!-- –¢–û–ü –º–æ–¥—É–ª–∏ -->
  <div class="form-section">
    <label class="form-label">–¢–û–ü –º–æ–¥—É–ª–∏:</label>
    <div class="top-modules-grid">
      <input id="bf-top1" class="form-input top-module-input" placeholder="ü•á –¢–æ–ø 1">
      <input id="bf-top2" class="form-input top-module-input" placeholder="ü•à –¢–æ–ø 2">
      <input id="bf-top3" class="form-input top-module-input" placeholder="ü•â –¢–æ–ø 3">
    </div>
  </div>

  <!-- –í–∫–ª–∞–¥–∫–∏ -->
  <!-- –í–∫–ª–∞–¥–∫–∏ -->
  <div class="form-section">
    <label class="form-label">–í–∫–ª–∞–¥–∫–∏ (–º–æ–¥—É–ª–∏):</label>
    <div id="bf-tabs-container"></div>
    
    <!-- –®–∞–±–ª–æ–Ω –≤–∫–ª–∞–¥–∫–∏ -->
    <template id="tab-template">
      <div class="tab-block">
        <input type="text" class="tab-title-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∏">
        
        <!-- –ú–æ–¥—É–ª–∏ –≤–∫–ª–∞–¥–∫–∏ -->
        <div class="tab-modules">
          <div class="mod-row">
            <input type="text" placeholder="–î—É–ª–æ">
            <select class="mod-select">
              <option value="">–º–æ–¥—É–ª—å</option>
            </select>
          </div>
          <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –Ω–æ–≤—ã–µ –º–æ–¥—É–ª–∏ -->
        </div>
        
        <!-- –ö–Ω–æ–ø–∫–∏ –≤–∫–ª–∞–¥–∫–∏ –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ -->
        <div class="tab-actions">
          <button class="btn add-mod">‚ûï –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥—É–ª—å</button>
          <button class="btn delete-tab">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –≤–∫–ª–∞–¥–∫—É</button>
        </div>
      </div>
    </template>
    
    <button class="btn btn-accent" id="bf-add-tab">‚ûï –î–æ–±–∞–≤–∏—Ç—å –≤–∫–ª–∞–¥–∫—É</button>
  </div>

    <!-- –î–∞—Ç–∞ -->
  <div class="form-section">
    <label class="form-label">–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:</label>
    <input id="bf-date" type="date" class="form-input">
  </div>

  <!-- –ö–Ω–æ–ø–∫–∏ -->
  <div class="btn-group">
    <button class="btn btn-primary" id="bf-submit-build">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    <button class="btn btn-back" onclick="showScreen('screen-battlefield-main')">‚¨Ö –ù–∞–∑–∞–¥</button>
  </div>
</div>



<!-- –≠–∫—Ä–∞–Ω –º–æ–¥—É–ª–µ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ -->
<div id="screen-bf-modules-list" class="screen" style="display:none;">
  <div class="screen-header">
    <button class="btn btn-back" id="bf-back-from-modules">‚¨Ö –ù–∞–∑–∞–¥</button>
    <h2 id="bf-modules-title">üî© –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –º–æ–¥—É–ª–µ–π</h2>
  </div>

  <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–æ–¥—É–ª—è -->
  <div class="form-section">
    <h3 style="color: #9cc4ff; margin-bottom: 15px;">‚ûï –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥—É–ª—å</h3>
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px;">
      <input id="bf-mod-category" class="form-input" placeholder="–ö–∞—Ç–µ–≥–æ—Ä–∏—è (–Ω–∞–ø—Ä. Barrel)">
      <input id="bf-mod-name" class="form-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è (Suppressor)">
    </div>
    <button class="btn btn-accent" id="bf-add-module-btn" style="width: 100%;">‚ûï –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥—É–ª—å</button>
  </div>

  <!-- –°–ø–∏—Å–æ–∫ –º–æ–¥—É–ª–µ–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º -->
  <div id="bf-modules-container" class="form-section">
    <!-- –ú–æ–¥—É–ª–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
  </div>
</div>








<!-- üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —ç–∫—Ä–∞–Ω –∏—Å–ø—ã—Ç–∞–Ω–∏–π -->
<!-- üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —ç–∫—Ä–∞–Ω –∏—Å–ø—ã—Ç–∞–Ω–∏–π -->
<div id="screen-bf-challenges" class="screen" style="display:none;">
  <div class="screen-header">
    <h2>‚öîÔ∏è Battlefield | –ò—Å–ø—ã—Ç–∞–Ω–∏—è</h2>
    <p class="screen-subtitle">–í—ã–ø–æ–ª–Ω—è–π –∏—Å–ø—ã—Ç–∞–Ω–∏—è –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π –ø—Ä–æ–≥—Ä–µ—Å—Å</p>
  </div>

  <!-- üîç –ü–æ–∏—Å–∫ –∏ –≤–∫–ª–∞–¥–∫–∏ -->
  <div class="search-box">
    <input type="text" id="bf-search-user" placeholder="üîç –ü–æ–∏—Å–∫" class="search-input">
  </div>

  <div id="bf-tabs" class="tabs-grid"></div>

  <div class="status-tabs">
    <button class="status-btn" data-status="active">–ê–∫—Ç–∏–≤–Ω—ã–µ</button>
    <button class="status-btn" data-status="completed">–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ</button>
  </div>


  <!-- üß© –°–ø–∏—Å–æ–∫ –∏—Å–ø—ã—Ç–∞–Ω–∏–π -->
  <div id="bf-challenges-list" class="challenges-grid">
    <div class="loading-spinner">–ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å–ø—ã—Ç–∞–Ω–∏–π...</div>
  </div>

    <button class="btn" id="bf-back-from-challenges">‚¨Ö –ù–∞–∑–∞–¥</button>
</div>


<!-- üõ° –≠–∫—Ä–∞–Ω –±–∞–∑—ã –∏—Å–ø—ã—Ç–∞–Ω–∏–π (–¥–ª—è –∞–¥–º–∏–Ω–∞) -->
<div id="screen-bf-challenges-db" class="screen" style="display:none;">
  <div class="screen-header">
    <h2>üß© –ë–∞–∑–∞ –∏—Å–ø—ã—Ç–∞–Ω–∏–π Battlefield</h2>
    <p class="screen-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏ –∏—Å–ø—ã—Ç–∞–Ω–∏—è–º–∏ —Å–∏—Å—Ç–µ–º—ã</p>
  </div>

  <div class="btn-group" style="margin-bottom:20px;">
    <button class="btn btn-secondary" id="bf-back-to-bfmain">‚¨Ö –ù–∞–∑–∞–¥</button>
  </div>

  <div class="stats-bar">
    <div class="stat-item">
      <span class="stat-value" id="bf-total-challenges">0</span>
      <span class="stat-label">–í—Å–µ–≥–æ –∏—Å–ø—ã—Ç–∞–Ω–∏–π</span>
    </div>
    <div class="stat-item">
      <span class="stat-value" id="bf-total-categories">0</span>
      <span class="stat-label">–ö–∞—Ç–µ–≥–æ—Ä–∏–π</span>
    </div>
  </div>

  <div class="search-box">
    <input type="text" id="bf-search-challenges" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..." class="search-input">
    <select id="bf-filter-category" class="filter-select">
      <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
    </select>
  </div>

  <div id="bf-challenges-grid" class="challenges-grid">
    <div class="loading-spinner">–ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å–ø—ã—Ç–∞–Ω–∏–π...</div>
  </div>
</div>

<!-- üß± –≠–∫—Ä–∞–Ω –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø—ã—Ç–∞–Ω–∏—è -->
<div id="screen-bf-add-challenge" class="screen" style="display:none;">
  <div class="screen-header">
    <h2>üõ† –î–æ–±–∞–≤–∏—Ç—å –∏—Å–ø—ã—Ç–∞–Ω–∏–µ</h2>
  </div>

<div class="form-section">
  <label for="bf-category-select">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
  <select id="bf-category-select" class="form-input">
    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é...</option>
  </select>

  <div class="category-actions">
  <button class="btn-mini" id="bf-edit-category-btn" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é">
    <i class="fas fa-edit"></i>
  </button>
  <button class="btn-mini" id="bf-delete-category-btn" title="–£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é">
    <i class="fas fa-trash"></i>
  </button>
</div>


  <div class="add-category-inline">
    <input type="text" id="bf-new-category" class="form-input" placeholder="–ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è">
    <button class="btn btn-secondary" id="bf-add-category-btn">‚ûï –î–æ–±–∞–≤–∏—Ç—å –≤–∫–ª–∞–¥–∫—É</button>
  </div>
</div>


  <div class="form-section">
    <label for="bf-title-en">–ù–∞–∑–≤–∞–Ω–∏–µ (EN)</label>
    <input type="text" id="bf-title-en" class="form-input" placeholder="Get 30 kills">
  </div>

  <div class="form-section">
    <label for="bf-title-ru">–ù–∞–∑–≤–∞–Ω–∏–µ (RU)</label>
    <input type="text" id="bf-title-ru" class="form-input" placeholder="–°–¥–µ–ª–∞–π—Ç–µ 30 —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–π">
  </div>

  <div class="form-section flex-row">
    <div class="form-col">
      <label for="bf-goal">–¶–µ–ª—å</label>
      <input type="number" id="bf-goal" class="form-input" value="0">
    </div>
  </div>

  <div class="btn-group">
    <button class="btn btn-primary" id="bf-submit-challenge">‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    <button class="btn btn-back" id="bf-back-from-add">‚¨Ö –ù–∞–∑–∞–¥</button>
  </div>
</div>


<script src="/static/bf_builds.js?v={{ version }}"></script>

