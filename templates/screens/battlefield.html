<!-- ‚öîÔ∏è –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω Battlefield -->
<div id="screen-battlefield-main" class="screen">
  <p class="subtext">
    –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∏—Ä Battlefield.<br><br>
    –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–π –æ—Ä—É–∂–∏–µ, –ø—Ä–æ—Ö–æ–¥–∏ –∏—Å–ø—ã—Ç–∞–Ω–∏—è –∏ —Å–ª–µ–¥–∏ –∑–∞ –Ω–æ–≤—ã–º–∏ –º–µ—Ç–∞-—Å–±–æ—Ä–∫–∞–º–∏.
  </p>

  <div id="bf-user-info" class="user-info-block"></div>
  <h1>Battlefield</h1>

  <div id="bf-role-buttons" class="form-section">
    <!-- üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å -->
    <div id="bf-user-buttons" class="button-grid three-column">
      <div class="card-btn is-visible" id="bf-show-builds-btn">
        <i class="fas fa-eye"></i>
        <span>–í—Å–µ —Å–±–æ—Ä–∫–∏</span>
      </div>
      <div class="card-btn is-visible" id="bf-challenges-btn">
        <i class="fas fa-flag"></i>
        <span>–ò—Å–ø—ã—Ç–∞–Ω–∏—è</span>
      </div>
      <div class="card-btn is-visible" id="bf-search-btn">
        <i class="fas fa-search"></i>
        <span>–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫</span>
      </div>
    </div>

    <!-- üõ° –ê–¥–º–∏–Ω -->
    <div id="bf-admin-buttons">
      <!-- –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ -->
      <div class="button-grid three-column">
        <div class="card-btn is-visible" id="bf-weapons-db-btn">
          <i class="fas fa-database"></i>
          <span>–ë–∞–∑–∞ –æ—Ä—É–∂–∏–π</span>
        </div>
        <div class="card-btn is-visible" id="bf-challenges-db-btn">
          <i class="fas fa-clipboard-list"></i>
          <span>–ë–∞–∑–∞ –∏—Å–ø—ã—Ç–∞–Ω–∏–π</span>
        </div>
        <div class="card-btn is-visible" id="bf-modules-dict-btn">
          <i class="fas fa-list"></i>
          <span>–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –º–æ–¥—É–ª–µ–π</span>
        </div>
      </div>

      <!-- –¢—Ä–µ—Ç—å—è —Å—Ç—Ä–æ–∫–∞ -->
      <div class="button-grid two-column">
        <div class="card-btn is-visible" id="bf-add-build-btn">
          <i class="fas fa-plus"></i>
          <span>–î–æ–±–∞–≤–∏—Ç—å —Å–±–æ—Ä–∫—É</span>
        </div>
        <div class="card-btn is-visible" id="bf-add-challenge-btn">
          <i class="fas fa-trophy"></i>
          <span>–î–æ–±–∞–≤–∏—Ç—å –∏—Å–ø—ã—Ç–∞–Ω–∏–µ</span>
        </div>
      </div>

      <!-- üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
      <div class="global-home-button" style="display:block;">
        <button class="btn" onclick="showScreen('screen-home')">üè† –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ</button>
      </div>
    </div>
  </div>
</div>


<!-- üì¶ –°–ø–∏—Å–æ–∫ —Å–±–æ—Ä–æ–∫ -->
<div id="screen-bf-builds" class="screen" style="display:none;">
  <div class="filters-row">
    <div class="form-section" style="width:50%;">
      <select id="bf-weapon-filter" class="form-input">
        <option value="all">–í—Å–µ —Ç–∏–ø—ã</option>
        <option value="assault">–®—Ç—É—Ä–º–æ–≤—ã–µ</option>
        <option value="smg">–ü–ü</option>
        <option value="sniper">–°–Ω–∞–π–ø–µ—Ä—Å–∫–∏–µ</option>
        <option value="support">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</option>
        <option value="shotgun">–î—Ä–æ–±–æ–≤–∏–∫–∏</option>
      </select>
    </div>
    <div class="form-section" style="width:50%;">
      <select id="bf-category-filter" class="form-input">
        <option value="all">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
        <option value="popular">–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ</option>
        <option value="new">–ù–æ–≤–∏–Ω–∫–∏</option>
        <option value="topmeta">–¢–æ–ø –º–µ—Ç–∞</option>
        <option value="meta">–ú–µ—Ç–∞</option>
      </select>
    </div>
  </div>

  <div class="search-section">
    <input type="text" id="bf-builds-search" class="form-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é , –º–æ–¥—É–ª—è–º....">
  </div>

  <div class="stats-bar">
    <span id="bf-user-builds-count">–í—Å–µ–≥–æ —Å–±–æ—Ä–æ–∫: 0</span>
  </div>

  <div class="form-section" style="display:flex;justify-content:space-between;align-items:center;">
    <h2>üì¶ –í—Å–µ —Å–±–æ—Ä–∫–∏</h2>
    <button id="bf-back-from-builds" class="btn btn-back">‚¨Ö –ù–∞–∑–∞–¥</button>
  </div>

  <div id="bf-builds-list">
    <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Å–±–æ—Ä–æ–∫...</p>
  </div>
  <p id="bf-no-results-message" style="display:none;text-align:center;margin-top:20px;">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</p>
</div>


<!-- üõ† –î–æ–±–∞–≤–ª–µ–Ω–∏–µ / –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–±–æ—Ä–∫–∏ -->
<div id="screen-bf-form" class="screen" style="display:none;">
  <div class="form-section">
    <h2>üõ† –î–æ–±–∞–≤–ª–µ–Ω–∏–µ / —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–±–æ—Ä–∫–∏</h2>
  </div>

  <div class="form-section">
    <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Å–±–æ—Ä–∫–∏:</label>
    <input type="text" id="bf-title" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–±–æ—Ä–∫–∏">
  </div>

  <div class="form-section">
    <label>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:</label>
    <div class="categories-grid">
      <label class="category-checkbox">
        <input type="checkbox" class="bf-build-category" value="popular">
        <span class="checkmark"></span>
        <span>–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ</span>
      </label>
      <label class="category-checkbox">
        <input type="checkbox" class="bf-build-category" value="new">
        <span class="checkmark"></span>
        <span>–ù–æ–≤–∏–Ω–∫–∏</span>
      </label>
      <label class="category-checkbox">
        <input type="checkbox" class="bf-build-category" value="topmeta">
        <span class="checkmark"></span>
        <span>–¢–æ–ø –º–µ—Ç–∞</span>
      </label>
      <label class="category-checkbox">
        <input type="checkbox" class="bf-build-category" value="meta">
        <span class="checkmark"></span>
        <span>–ú–µ—Ç–∞</span>
      </label>
    </div>
  </div>

  <div class="form-section">
    <label>–¢–∏–ø –æ—Ä—É–∂–∏—è:</label>
    <select id="bf-weapon-type" class="form-input"></select>
  </div>

  <div class="form-section">
    <label>–¢–û–ü –º–æ–¥—É–ª–∏:</label>
    <div class="top-modules-grid">
      <input type="text" id="bf-top1" placeholder="ü•á –¢–æ–ø 1" class="form-input top-module-input">
      <input type="text" id="bf-top2" placeholder="ü•à –¢–æ–ø 2" class="form-input top-module-input">
      <input type="text" id="bf-top3" placeholder="ü•â –¢–æ–ø 3" class="form-input top-module-input">
    </div>
  </div>

  <div class="form-section">
    <label>–í–∫–ª–∞–¥–∫–∏ (–º–æ–¥—É–ª–∏):</label>
    <div id="bf-tabs-container"></div>
    <button type="button" id="bf-add-tab" class="btn add-tab-btn">‚ûï –î–æ–±–∞–≤–∏—Ç—å –≤–∫–ª–∞–¥–∫—É</button>
  </div>

  <div class="form-section">
    <label>–î–∞—Ç–∞:</label>
    <input type="date" id="bf-build-date" class="form-input">
  </div>

  <div class="btn-group">
    <button id="bf-submit-build" class="btn btn-primary">‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–±–æ—Ä–∫—É</button>
    <button id="bf-back-from-form" class="btn btn-back">‚¨Ö –ù–∞–∑–∞–¥</button>
  </div>
</div>


<div id="screen-bf-edit-builds" class="screen" style="display:none;">
  <div class="screen-header">
    <button class="btn btn-back" id="bf-back-from-edit">‚¨Ö –ù–∞–∑–∞–¥</button>
    <h2>‚öôÔ∏è –ë–∞–∑–∞ —Å–±–æ—Ä–æ–∫ Battlefield</h2>
  </div>

  <div class="stats-bar">
    <span id="bf-builds-count">–í—Å–µ–≥–æ: 0 —Å–±–æ—Ä–æ–∫</span>
  </div>

  <!-- –§–∏–ª—å—Ç—Ä—ã -->
  <div class="bf-filters-container" style="padding: 16px; border-bottom: 1px solid #2a3a5a;">
    <div class="bf-filters-row" style="display: flex; gap: 16px; align-items: center; flex-wrap: wrap;">
      <div class="bf-filter-group" style="display: flex; gap: 8px; align-items: center;">
        <strong style="color: #e0e6ee; font-size: 14px;">–í—Å–µ —Ç–∏–ø—ã</strong>
        <select id="bf-edit-type-filter" class="bf-filter-select">
          <option value="all">–í—Å–µ</option>
        </select>
      </div>
            
      <div class="bf-search-group" style="flex: 1; min-width: 200px;">
        <input type="text" id="bf-edit-search" class="bf-search-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é...">
      </div>
    </div>
  </div>

  <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ - 2 –≤ —Ä—è–¥ -->
  <div id="bf-edit-builds-grid" class="bf-builds-grid">
    <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Å–±–æ—Ä–æ–∫...</p>
  </div>
</div>


<!-- üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –º–æ–¥—É–ª–µ–π ‚Äî –≤—ã–±–æ—Ä —Ç–∏–ø–∞ -->
<div id="screen-bf-modules-types" class="screen" style="display:none;">
  <h2>–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –º–æ–¥—É–ª–µ–π ‚Äî —Ç–∏–ø –æ—Ä—É–∂–∏—è</h2>
  <div id="bf-modules-types-grid" class="button-grid"></div>
  <button class="btn" id="bf-back-from-mod-types">‚¨Ö –ù–∞–∑–∞–¥</button>
</div>


<!-- üìã –°–ø–∏—Å–æ–∫ –º–æ–¥—É–ª–µ–π –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ -->
<div id="screen-bf-modules-list" class="screen" style="display:none;">
  <h2 id="bf-modules-title">–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –º–æ–¥—É–ª–µ–π</h2>

  <div id="bf-modules-toolbar" class="flex" style="gap:8px;margin-bottom:10px;">
    <input id="bf-mod-category" class="form-input" placeholder="–ö–∞—Ç–µ–≥–æ—Ä–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: –î—É–ª–æ)">
    <input id="bf-mod-en" class="form-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ EN (Compensator)">
    <input id="bf-mod-pos" class="form-input" type="number" placeholder="–ü–æ—Ä—è–¥–æ–∫" style="width:100px;">
    <button class="btn" id="bf-mod-add-btn">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
  </div>

  <div id="bf-modules-list"></div>

  <button class="btn" id="bf-back-from-mod-list">‚¨Ö –ù–∞–∑–∞–¥</button>
</div>


<!-- üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —ç–∫—Ä–∞–Ω –∏—Å–ø—ã—Ç–∞–Ω–∏–π -->
<div id="screen-bf-challenges" class="screen" style="display:none;">
  <div class="screen-header">
    <h2>‚öîÔ∏è Battlefield | –ò—Å–ø—ã—Ç–∞–Ω–∏—è</h2>
    <p class="screen-subtitle">–í—ã–ø–æ–ª–Ω—è–π –∏—Å–ø—ã—Ç–∞–Ω–∏—è –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π –ø—Ä–æ–≥—Ä–µ—Å—Å</p>
  </div>

  <!-- üîç –ü–æ–∏—Å–∫ –∏ –≤–∫–ª–∞–¥–∫–∏ -->
  <div class="search-box">
    <input type="text" id="bf-search-user" placeholder="üîç –ü–æ–∏—Å–∫" class="search-input">
  </div>

  <div id="bf-tabs" class="tabs-grid"></div>

  <div class="status-tabs">
    <button class="status-btn" data-status="active">–ê–∫—Ç–∏–≤–Ω—ã–µ</button>
    <button class="status-btn" data-status="completed">–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ</button>
  </div>


  <!-- üß© –°–ø–∏—Å–æ–∫ –∏—Å–ø—ã—Ç–∞–Ω–∏–π -->
  <div id="bf-challenges-list" class="challenges-grid">
    <div class="loading-spinner">–ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å–ø—ã—Ç–∞–Ω–∏–π...</div>
  </div>

    <button class="btn" id="bf-back-from-challenges">‚¨Ö –ù–∞–∑–∞–¥</button>
</div>


<!-- üõ° –≠–∫—Ä–∞–Ω –±–∞–∑—ã –∏—Å–ø—ã—Ç–∞–Ω–∏–π (–¥–ª—è –∞–¥–º–∏–Ω–∞) -->
<div id="screen-bf-challenges-db" class="screen" style="display:none;">
  <div class="screen-header">
    <h2>üß© –ë–∞–∑–∞ –∏—Å–ø—ã—Ç–∞–Ω–∏–π Battlefield</h2>
    <p class="screen-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏ –∏—Å–ø—ã—Ç–∞–Ω–∏—è–º–∏ —Å–∏—Å—Ç–µ–º—ã</p>
  </div>

  <div class="btn-group" style="margin-bottom:20px;">
    <button class="btn btn-secondary" id="bf-back-to-bfmain">‚¨Ö –ù–∞–∑–∞–¥</button>
  </div>

  <div class="stats-bar">
    <div class="stat-item">
      <span class="stat-value" id="bf-total-challenges">0</span>
      <span class="stat-label">–í—Å–µ–≥–æ –∏—Å–ø—ã—Ç–∞–Ω–∏–π</span>
    </div>
    <div class="stat-item">
      <span class="stat-value" id="bf-total-categories">0</span>
      <span class="stat-label">–ö–∞—Ç–µ–≥–æ—Ä–∏–π</span>
    </div>
  </div>

  <div class="search-box">
    <input type="text" id="bf-search-challenges" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..." class="search-input">
    <select id="bf-filter-category" class="filter-select">
      <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
    </select>
  </div>

  <div id="bf-challenges-grid" class="challenges-grid">
    <div class="loading-spinner">–ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å–ø—ã—Ç–∞–Ω–∏–π...</div>
  </div>
</div>

<!-- üß± –≠–∫—Ä–∞–Ω –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø—ã—Ç–∞–Ω–∏—è -->
<div id="screen-bf-add-challenge" class="screen" style="display:none;">
  <div class="screen-header">
    <h2>üõ† –î–æ–±–∞–≤–∏—Ç—å –∏—Å–ø—ã—Ç–∞–Ω–∏–µ</h2>
  </div>

<div class="form-section">
  <label for="bf-category-select">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
  <select id="bf-category-select" class="form-input">
    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é...</option>
  </select>

  <div class="category-actions">
  <button class="btn-mini" id="bf-edit-category-btn" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é">
    <i class="fas fa-edit"></i>
  </button>
  <button class="btn-mini" id="bf-delete-category-btn" title="–£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é">
    <i class="fas fa-trash"></i>
  </button>
</div>


  <div class="add-category-inline">
    <input type="text" id="bf-new-category" class="form-input" placeholder="–ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è">
    <button class="btn btn-secondary" id="bf-add-category-btn">‚ûï –î–æ–±–∞–≤–∏—Ç—å –≤–∫–ª–∞–¥–∫—É</button>
  </div>
</div>


  <div class="form-section">
    <label for="bf-title-en">–ù–∞–∑–≤–∞–Ω–∏–µ (EN)</label>
    <input type="text" id="bf-title-en" class="form-input" placeholder="Get 30 kills">
  </div>

  <div class="form-section">
    <label for="bf-title-ru">–ù–∞–∑–≤–∞–Ω–∏–µ (RU)</label>
    <input type="text" id="bf-title-ru" class="form-input" placeholder="–°–¥–µ–ª–∞–π—Ç–µ 30 —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–π">
  </div>

  <div class="form-section flex-row">
    <div class="form-col">
      <label for="bf-goal">–¶–µ–ª—å</label>
      <input type="number" id="bf-goal" class="form-input" value="0">
    </div>
  </div>

  <div class="btn-group">
    <button class="btn btn-primary" id="bf-submit-challenge">‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    <button class="btn btn-back" id="bf-back-from-add">‚¨Ö –ù–∞–∑–∞–¥</button>
  </div>
</div>


<script src="/static/bf_builds.js?v={{ version }}"></script>

