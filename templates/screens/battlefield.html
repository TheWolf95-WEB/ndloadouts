<!-- ‚öîÔ∏è –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω Battlefield -->
<div id="screen-battlefield-main" class="screen">
  <p class="subtext">
    –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∏—Ä Battlefield.<br><br>
    –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–π –æ—Ä—É–∂–∏–µ, –ø—Ä–æ—Ö–æ–¥–∏ –∏—Å–ø—ã—Ç–∞–Ω–∏—è –∏ —Å–ª–µ–¥–∏ –∑–∞ –Ω–æ–≤—ã–º–∏ –º–µ—Ç–∞-—Å–±–æ—Ä–∫–∞–º–∏.
  </p>

  <div id="bf-user-info" class="user-info-block"></div>
  <h1>Battlefield</h1>

  <div id="bf-role-buttons" class="form-section">
    <!-- üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å -->
    <div id="bf-user-buttons" class="button-grid three-column">
      <div class="card-btn is-visible" id="bf-show-builds-btn">
        <i class="fas fa-eye"></i>
        <span>–í—Å–µ —Å–±–æ—Ä–∫–∏</span>
      </div>
      <div class="card-btn is-visible" id="bf-challenges-btn">
        <i class="fas fa-flag"></i>
        <span>–ò—Å–ø—ã—Ç–∞–Ω–∏—è</span>
      </div>
      <div class="card-btn is-visible" id="bf-search-btn">
        <i class="fas fa-search"></i>
        <span>–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫</span>
      </div>
    </div>

    <!-- üõ° –ê–¥–º–∏–Ω -->
    <div id="bf-admin-buttons">
      <!-- –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ -->
      <div class="button-grid three-column">
        <div class="card-btn is-visible" id="bf-weapons-db-btn">
          <i class="fas fa-database"></i>
          <span>–ë–∞–∑–∞ –æ—Ä—É–∂–∏–π</span>
        </div>
        <div class="card-btn is-visible" id="bf-challenges-db-btn">
          <i class="fas fa-clipboard-list"></i>
          <span>–ë–∞–∑–∞ –∏—Å–ø—ã—Ç–∞–Ω–∏–π</span>
        </div>
        <div class="card-btn is-visible" id="bf-modules-dict-btn">
          <i class="fas fa-list"></i>
          <span>–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –º–æ–¥—É–ª–µ–π</span>
        </div>
      </div>

      <!-- –¢—Ä–µ—Ç—å—è —Å—Ç—Ä–æ–∫–∞ -->
      <div class="button-grid two-column">
        <div class="card-btn is-visible" id="bf-add-build-btn">
          <i class="fas fa-plus"></i>
          <span>–î–æ–±–∞–≤–∏—Ç—å —Å–±–æ—Ä–∫—É</span>
        </div>
        <div class="card-btn is-visible" id="bf-add-challenge-btn">
          <i class="fas fa-trophy"></i>
          <span>–î–æ–±–∞–≤–∏—Ç—å –∏—Å–ø—ã—Ç–∞–Ω–∏–µ</span>
        </div>
      </div>

      <!-- üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
      <div class="global-home-button" style="display:block;">
        <button class="btn" onclick="showScreen('screen-home')">üè† –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ</button>
      </div>
    </div>
  </div>
</div>



<!-- üì¶ –≠–∫—Ä–∞–Ω: –í–°–ï –°–ë–û–†–ö–ò (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å–ø–∏—Å–æ–∫) -->
<div id="screen-bf-builds" class="screen" style="display:none;">
  <div class="screen-header">
    <button class="btn btn-back" onclick="showScreen('screen-battlefield-main')">‚¨Ö –ù–∞–∑–∞–¥</button>
    <h2>üì¶ –í—Å–µ —Å–±–æ—Ä–∫–∏ Battlefield</h2>
  </div>

  <!-- –§–∏–ª—å—Ç—Ä—ã -->
  <div class="filters-row">
    <select id="bf-filter-type" class="form-input">
      <option value="">–í—Å–µ —Ç–∏–ø—ã</option>
    </select>
    <select id="bf-filter-category" class="form-input">
      <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
    </select>
  </div>

  <!-- –ü–æ–∏—Å–∫ –∏ —Å—á—ë—Ç—á–∏–∫ -->
  <div class="filters-row">
    <input id="bf-search-builds" class="form-input" placeholder="üîé –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –º–æ–¥—É–ª—è–º...">
  </div>
  <div class="meta-row">
    <span class="muted">–í—Å–µ–≥–æ: <b id="bf-total-builds">0</b> —Å–±–æ—Ä–æ–∫</span>
  </div>

  <!-- –°–ø–∏—Å–æ–∫ (–∫–∞—Ä—Ç–æ—á–∫–∏ –≤ 2 –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ) -->
  <div id="bf-builds-list" class="bf-cards-grid">
    <div class="loading-spinner">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
  </div>

  <div class="footer-actions">
    <button class="btn" onclick="showScreen('screen-battlefield-main')">‚¨Ö –ù–∞–∑–∞–¥</button>
  </div>
</div>


<!-- üß± –≠–∫—Ä–∞–Ω: –î–û–ë–ê–í–ò–¢–¨ / –†–ï–î–ê–ö–¢–ò–†–û–í–ê–¢–¨ –°–ë–û–†–ö–£ -->
<div id="screen-bf-add-build" class="screen" style="display:none;">
  <div class="screen-header">
    <button class="btn btn-back" onclick="showScreen('screen-battlefield-main')">‚¨Ö –ù–∞–∑–∞–¥</button>
    <h2>üõ† –î–æ–±–∞–≤–∏—Ç—å / –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ—Ä–∫—É</h2>
  </div>

  <div class="form-section">
    <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–±–æ—Ä–∫–∏:</label>
    <input id="bf-title" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–±–æ—Ä–∫–∏">
  </div>

  <div class="form-section">
    <label class="form-label">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:</label>
    <div class="bf-tags-choices">
      <label class="tag-checkbox"><input type="checkbox" value="–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ" class="bf-cat"> <span>–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ</span></label>
      <label class="tag-checkbox"><input type="checkbox" value="–ù–æ–≤–∏–Ω–∫–∏" class="bf-cat"> <span>–ù–æ–≤–∏–Ω–∫–∏</span></label>
      <label class="tag-checkbox"><input type="checkbox" value="–¢–æ–ø –ú–µ—Ç–∞" class="bf-cat"> <span>–¢–æ–ø –ú–µ—Ç–∞</span></label>
      <label class="tag-checkbox"><input type="checkbox" value="–ú–µ—Ç–∞" class="bf-cat"> <span>–ú–µ—Ç–∞</span></label>
    </div>
  </div>

  <div class="form-section">
    <label class="form-label">–¢–∏–ø –æ—Ä—É–∂–∏—è:</label>
    <select id="bf-weapon-type" class="form-input">
      <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –æ—Ä—É–∂–∏—è</option>
      <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–∑ data/types-bf.json –∏–ª–∏ /api/bf/types -->
    </select>
  </div>

  <div class="form-section">
    <label class="form-label">–¢–û–ü –º–æ–¥—É–ª–∏:</label>
    <input id="bf-top1" class="form-input" placeholder="ü•á –¢–æ–ø 1">
    <input id="bf-top2" class="form-input" placeholder="ü•à –¢–æ–ø 2">
    <input id="bf-top3" class="form-input" placeholder="ü•â –¢–æ–ø 3">
  </div>

  <div class="form-section">
    <label class="form-label">–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:</label>
    <input id="bf-date" type="date" class="form-input">
  </div>

  <!-- –í–∫–ª–∞–¥–∫–∏ (—Å–µ—Ç—ã –º–æ–¥—É–ª–µ–π) -->
  <div class="form-section">
    <label class="form-label">–í–∫–ª–∞–¥–∫–∏ (–º–æ–¥—É–ª–∏):</label>
    <div id="bf-tabs-container" class="bf-tabs-container"><!-- –¥–∏–Ω–∞–º–∏–∫–∞ --></div>
    <button class="btn btn-success" id="bf-add-tab">‚ûï –î–æ–±–∞–≤–∏—Ç—å –≤–∫–ª–∞–¥–∫—É</button>
  </div>

  <div class="btn-group">
    <button class="btn btn-primary" id="bf-submit-build">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    <button class="btn btn-back" onclick="showScreen('screen-battlefield-main')">‚¨Ö –ù–∞–∑–∞–¥</button>
  </div>
</div>


<!-- ‚öôÔ∏è –≠–∫—Ä–∞–Ω: –°–ü–†–ê–í–û–ß–ù–ò–ö –ú–û–î–£–õ–ï–ô ‚Äî –¢–ò–ü–´ –û–†–£–ñ–ò–Ø -->
<div id="screen-bf-types" class="screen" style="display:none;">
  <div class="screen-header">
    <button class="btn btn-back" onclick="showScreen('screen-battlefield-main')">‚¨Ö –ù–∞–∑–∞–¥</button>
    <h2>üî© –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –º–æ–¥—É–ª–µ–π ‚Äî —Ç–∏–ø –æ—Ä—É–∂–∏—è</h2>
  </div>

  <!-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ -->
  <div class="form-inline">
    <input id="bf-type-key" class="form-input" placeholder="–ö–ª—é—á (–Ω–∞–ø—Ä–∏–º–µ—Ä, assault)">
    <input id="bf-type-label" class="form-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –®—Ç—É—Ä–º–æ–≤—ã–µ –≤–∏–Ω—Ç–æ–≤–∫–∏)">
    <button id="bf-add-type-btn" class="btn btn-success">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø</button>
  </div>

  <!-- –°–µ—Ç–∫–∞ —Ç–∏–ø–æ–≤ (–∫–Ω–æ–ø–∫–∏ —Å —Ä–µ–¥/—É–¥–∞–ª) -->
  <div id="bf-types-list" class="bf-types-grid">
    <!-- –ü—Ä–∏–º–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏:
    <div class="bf-type-card">
      <button class="bf-type-open" data-key="assault" data-label="–®—Ç—É—Ä–º–æ–≤—ã–µ –≤–∏–Ω—Ç–æ–≤–∫–∏">–®—Ç—É—Ä–º–æ–≤—ã–µ –≤–∏–Ω—Ç–æ–≤–∫–∏</button>
      <div class="bf-type-actions">
        <button class="btn-mini bf-type-edit" data-id="1" data-key="assault" data-label="–®—Ç—É—Ä–º–æ–≤—ã–µ –≤–∏–Ω—Ç–æ–≤–∫–∏">‚úèÔ∏è</button>
        <button class="btn-mini bf-type-del" data-id="1">üóë</button>
      </div>
    </div>
    -->
  </div>

  <div class="footer-actions">
    <button class="btn" onclick="showScreen('screen-battlefield-main')">‚¨Ö –ù–∞–∑–∞–¥</button>
  </div>
</div>


<!-- üî© –≠–∫—Ä–∞–Ω: –°–ü–†–ê–í–û–ß–ù–ò–ö –ú–û–î–£–õ–ï–ô ‚Äî –ö–û–ù–ö–†–ï–¢–ù–´–ô –¢–ò–ü -->
<div id="screen-bf-modules" class="screen" style="display:none;">
  <div class="screen-header">
    <button class="btn btn-back" onclick="showScreen('screen-bf-types')">‚¨Ö –ù–∞–∑–∞–¥</button>
    <h2 id="bf-modules-title">üî© –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –º–æ–¥—É–ª–µ–π ‚Äî <span class="muted">–¢–∏–ø –Ω–µ –≤—ã–±—Ä–∞–Ω</span></h2>
  </div>

  <!-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è (–∫–∞—Ç–µ–≥–æ—Ä–∏—è + –Ω–∞–∑–≤–∞–Ω–∏–µ) -->
  <div class="form-inline">
    <input id="bf-mod-category" class="form-input" placeholder="–ö–∞—Ç–µ–≥–æ—Ä–∏—è (–Ω–∞–ø—Ä. –î—É–ª–æ / Muzzle)">
    <input id="bf-mod-name" class="form-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä. Suppressor)">
    <button id="bf-add-module-btn" class="btn btn-success">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
  </div>

  <!-- –ì—Ä—É–ø–ø—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å –º–æ–¥—É–ª—è–º–∏ -->
  <div id="bf-modules-list" class="bf-modules-groups">
    <!-- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è: –≥—Ä—É–ø–ø—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Å—Ç—Ä–æ–∫–∏ –º–æ–¥—É–ª—è + –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è -->
  </div>

  <div class="footer-actions">
    <button class="btn" onclick="showScreen('screen-bf-types')">‚¨Ö –ù–∞–∑–∞–¥</button>
  </div>
</div>








<!-- üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —ç–∫—Ä–∞–Ω –∏—Å–ø—ã—Ç–∞–Ω–∏–π -->
<!-- üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —ç–∫—Ä–∞–Ω –∏—Å–ø—ã—Ç–∞–Ω–∏–π -->
<div id="screen-bf-challenges" class="screen" style="display:none;">
  <div class="screen-header">
    <h2>‚öîÔ∏è Battlefield | –ò—Å–ø—ã—Ç–∞–Ω–∏—è</h2>
    <p class="screen-subtitle">–í—ã–ø–æ–ª–Ω—è–π –∏—Å–ø—ã—Ç–∞–Ω–∏—è –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π –ø—Ä–æ–≥—Ä–µ—Å—Å</p>
  </div>

  <!-- üîç –ü–æ–∏—Å–∫ –∏ –≤–∫–ª–∞–¥–∫–∏ -->
  <div class="search-box">
    <input type="text" id="bf-search-user" placeholder="üîç –ü–æ–∏—Å–∫" class="search-input">
  </div>

  <div id="bf-tabs" class="tabs-grid"></div>

  <div class="status-tabs">
    <button class="status-btn" data-status="active">–ê–∫—Ç–∏–≤–Ω—ã–µ</button>
    <button class="status-btn" data-status="completed">–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ</button>
  </div>


  <!-- üß© –°–ø–∏—Å–æ–∫ –∏—Å–ø—ã—Ç–∞–Ω–∏–π -->
  <div id="bf-challenges-list" class="challenges-grid">
    <div class="loading-spinner">–ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å–ø—ã—Ç–∞–Ω–∏–π...</div>
  </div>

    <button class="btn" id="bf-back-from-challenges">‚¨Ö –ù–∞–∑–∞–¥</button>
</div>


<!-- üõ° –≠–∫—Ä–∞–Ω –±–∞–∑—ã –∏—Å–ø—ã—Ç–∞–Ω–∏–π (–¥–ª—è –∞–¥–º–∏–Ω–∞) -->
<div id="screen-bf-challenges-db" class="screen" style="display:none;">
  <div class="screen-header">
    <h2>üß© –ë–∞–∑–∞ –∏—Å–ø—ã—Ç–∞–Ω–∏–π Battlefield</h2>
    <p class="screen-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏ –∏—Å–ø—ã—Ç–∞–Ω–∏—è–º–∏ —Å–∏—Å—Ç–µ–º—ã</p>
  </div>

  <div class="btn-group" style="margin-bottom:20px;">
    <button class="btn btn-secondary" id="bf-back-to-bfmain">‚¨Ö –ù–∞–∑–∞–¥</button>
  </div>

  <div class="stats-bar">
    <div class="stat-item">
      <span class="stat-value" id="bf-total-challenges">0</span>
      <span class="stat-label">–í—Å–µ–≥–æ –∏—Å–ø—ã—Ç–∞–Ω–∏–π</span>
    </div>
    <div class="stat-item">
      <span class="stat-value" id="bf-total-categories">0</span>
      <span class="stat-label">–ö–∞—Ç–µ–≥–æ—Ä–∏–π</span>
    </div>
  </div>

  <div class="search-box">
    <input type="text" id="bf-search-challenges" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..." class="search-input">
    <select id="bf-filter-category" class="filter-select">
      <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
    </select>
  </div>

  <div id="bf-challenges-grid" class="challenges-grid">
    <div class="loading-spinner">–ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å–ø—ã—Ç–∞–Ω–∏–π...</div>
  </div>
</div>

<!-- üß± –≠–∫—Ä–∞–Ω –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø—ã—Ç–∞–Ω–∏—è -->
<div id="screen-bf-add-challenge" class="screen" style="display:none;">
  <div class="screen-header">
    <h2>üõ† –î–æ–±–∞–≤–∏—Ç—å –∏—Å–ø—ã—Ç–∞–Ω–∏–µ</h2>
  </div>

<div class="form-section">
  <label for="bf-category-select">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
  <select id="bf-category-select" class="form-input">
    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é...</option>
  </select>

  <div class="category-actions">
  <button class="btn-mini" id="bf-edit-category-btn" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é">
    <i class="fas fa-edit"></i>
  </button>
  <button class="btn-mini" id="bf-delete-category-btn" title="–£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é">
    <i class="fas fa-trash"></i>
  </button>
</div>


  <div class="add-category-inline">
    <input type="text" id="bf-new-category" class="form-input" placeholder="–ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è">
    <button class="btn btn-secondary" id="bf-add-category-btn">‚ûï –î–æ–±–∞–≤–∏—Ç—å –≤–∫–ª–∞–¥–∫—É</button>
  </div>
</div>


  <div class="form-section">
    <label for="bf-title-en">–ù–∞–∑–≤–∞–Ω–∏–µ (EN)</label>
    <input type="text" id="bf-title-en" class="form-input" placeholder="Get 30 kills">
  </div>

  <div class="form-section">
    <label for="bf-title-ru">–ù–∞–∑–≤–∞–Ω–∏–µ (RU)</label>
    <input type="text" id="bf-title-ru" class="form-input" placeholder="–°–¥–µ–ª–∞–π—Ç–µ 30 —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–π">
  </div>

  <div class="form-section flex-row">
    <div class="form-col">
      <label for="bf-goal">–¶–µ–ª—å</label>
      <input type="number" id="bf-goal" class="form-input" value="0">
    </div>
  </div>

  <div class="btn-group">
    <button class="btn btn-primary" id="bf-submit-challenge">‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    <button class="btn btn-back" id="bf-back-from-add">‚¨Ö –ù–∞–∑–∞–¥</button>
  </div>
</div>


<script src="/static/bf_builds.js?v={{ version }}"></script>

